[gd_scene load_steps=19 format=3 uid="uid://bd2umttirdhh8"]

[ext_resource type="Script" uid="uid://cbp7u20p834bb" path="res://scripts/tiny_creature_game.gd" id="1_chjw3"]
[ext_resource type="PackedScene" uid="uid://b7td0fbdkbfxb" path="res://actors/creature/prefab_creature.tscn" id="2_chjw3"]
[ext_resource type="Script" uid="uid://u4ejnjoumlmd" path="res://levels/level_state.gd" id="2_pexq2"]
[ext_resource type="Script" uid="uid://s0dwxj5gim5a" path="res://scripts/camtarget_marker_3d.gd" id="3_1vx7t"]
[ext_resource type="Resource" uid="uid://c8p22i4so65t3" path="res://game_state/creature_hunger_state.tres" id="4_hosi1"]
[ext_resource type="Shader" uid="uid://ck061bafdwf06" path="res://shaders/glass_02.gdshader" id="4_pexq2"]
[ext_resource type="Resource" uid="uid://depk3elhit4o" path="res://game_state/creature_cleanliness_state.tres" id="5_8r1vr"]
[ext_resource type="Shader" uid="uid://cvx4u6361cydg" path="res://shaders/wood.gdshader" id="5_47e7m"]
[ext_resource type="PackedScene" uid="uid://cwxsslwbqxs5x" path="res://assets/3d/food/prefab_food.tscn" id="6_chjw3"]
[ext_resource type="Resource" uid="uid://c1y7hr0aajia1" path="res://game_state/creature_social_state.tres" id="6_s8b20"]
[ext_resource type="Script" uid="uid://d2pglrojq4wbp" path="res://scripts/stats_canvas_layer.gd" id="7_6vc24"]
[ext_resource type="Resource" uid="uid://cnyg3hf7v7png" path="res://game_state/creature_lifecycle_state.tres" id="8_1vx7t"]

[sub_resource type="Environment" id="Environment_032ar"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_okrti"]
albedo_color = Color(0.313764, 0.118919, 0.0653052, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_032ar"]
render_priority = 0
shader = ExtResource("4_pexq2")
shader_parameter/albedo = Color(1, 1, 1, 0)
shader_parameter/roughness = 0.15
shader_parameter/normal_strength = 1.0
shader_parameter/edge_color = Color(0, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ljxe0"]
render_priority = 0
shader = ExtResource("5_47e7m")
shader_parameter/light_color = Color(0.952941, 0.858824, 0.74902, 1)
shader_parameter/dark_color = Color(0.74902, 0.619608, 0.490196, 1)
shader_parameter/ring_scale = 4.4
shader_parameter/wave_scale = 8.454
shader_parameter/random_scale = 4.6
shader_parameter/noise_scale = 0.03

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7crt5"]
albedo_color = Color(0.262745, 1, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_okrti"]
material = SubResource("StandardMaterial3D_7crt5")
radius = 0.02
height = 0.04

[node name="TinyCreatureGame" type="Node3D"]
script = ExtResource("1_chjw3")

[node name="LevelState" type="Node" parent="."]
script = ExtResource("2_pexq2")
lifecycle_state = ExtResource("8_1vx7t")
hunger_state = ExtResource("4_hosi1")
cleanliness_state = ExtResource("5_8r1vr")
social_state = ExtResource("6_s8b20")

[node name="PrefabCreature" parent="." node_paths=PackedStringArray("poop_location_marker") instance=ExtResource("2_chjw3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.494878, 0)
poop_location_marker = NodePath("../PoopSpotMarker3D")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_032ar")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0966622, 0.995317, 0, -0.995317, 0.0966622, 0, 1.95485, 0)
light_energy = 0.848

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.46153, 2.529, -0.824354)
light_energy = 0.847
light_indirect_energy = 2.524

[node name="OmniLight3D" type="OmniLight3D" parent="OmniLight3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.16485, 0.392534, 2.17239)
light_energy = 0.391
light_indirect_energy = 3.438
light_volumetric_fog_energy = 1.13

[node name="OmniLight3D" type="OmniLight3D" parent="OmniLight3D/OmniLight3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.71675, -0.319414, -2.75599)
light_energy = 0.238
light_indirect_energy = 1.8
light_volumetric_fog_energy = 1.13

[node name="CamtargetMarker3D" type="Marker3D" parent="."]
script = ExtResource("3_1vx7t")

[node name="Camera3D" type="Camera3D" parent="CamtargetMarker3D"]
transform = Transform3D(-0.0811555, 0.385372, -0.919186, 8.3142e-09, 0.922228, 0.386647, 0.996701, 0.0313785, -0.0748438, -3.328, 1.91999, 0.326053)

[node name="Dirt" type="CSGBox3D" parent="."]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.0112305, -0.0479817, 0)
use_collision = true
size = Vector3(0.465, 0.1, 0.86)
material = SubResource("StandardMaterial3D_okrti")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0112305, 2.52711, 0)
size = Vector3(5.17, 4.74, 8.96)
material = SubResource("ShaderMaterial_032ar")

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0218864, 0)
operation = 2
size = Vector3(4.65, 4.74, 8.6)
material = SubResource("ShaderMaterial_032ar")

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.179932, -0.112732, 0.167725)
size = Vector3(1.97998, 0.0496826, 2.37646)
material = SubResource("ShaderMaterial_ljxe0")

[node name="InteractionsCanvasLayer" type="CanvasLayer" parent="."]

[node name="FoodSource" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19237, 0.571185, 0.748205)

[node name="PrefabFood" parent="FoodSource" instance=ExtResource("6_chjw3")]

[node name="MeshInstance3D2" type="MeshInstance3D" parent="FoodSource"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0453188, 0)
visible = false
mesh = SubResource("SphereMesh_okrti")
skeleton = NodePath("../..")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="FoodSource"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0818856, 0)
visible = false
mesh = SubResource("SphereMesh_okrti")
skeleton = NodePath("../..")

[node name="PoopSpotMarker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.10974, 0.44818, -0.968233)

[node name="StatsCanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("7_6vc24")
lifecycle_state = ExtResource("8_1vx7t")

[node name="Control" type="Control" parent="StatsCanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="PanelContainer" type="PanelContainer" parent="StatsCanvasLayer/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="StatsCanvasLayer/Control/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="VBoxContainer" type="VBoxContainer" parent="StatsCanvasLayer/Control/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="StatsCanvasLayer/Control/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="CreatureAgeLabel" type="Label" parent="StatsCanvasLayer/Control/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Age:"

[node name="CreatureAgeValueLabel" type="Label" parent="StatsCanvasLayer/Control/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="RestartButton" type="Button" parent="StatsCanvasLayer/Control/PanelContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Restart"
